apiVersion: v1
kind: Config

current-context: default

clusters:
- cluster:
    server: <%= scope['kubernetes::master_url'] %>
<% if @ca_file -%>
    certificate-authority: <%= @ca_file %>
<% end -%>
  name: default

contexts:
- context:
    cluster: default
    user: default
  name: default

users:
- name: default
  user:
<% if @cert_file and @key_file -%>
    client-certificate: <%= @cert_file %>
    client-key: <%= @key_file %>
<% end -%>
